# 本人在该设计中具体应完成的工作

本项目旨在构建一个基于 Java 后端与 Web 前端的智慧物业管理系统。我负责的核心任务包括：
1. **数据库设计与优化**：基于 MySQL 构建符合 3NF 的关系型数据库，并针对核心业务（如欠费拦截）进行性能优化。
2. **后端逻辑开发**：使用 Java 实现 MVC 模式，建立 Entity、DAO、Service 与 Controller/View 层。
3. **业务逻辑硬拦截**：实现水电卡充值前的“欠费锁定”核心逻辑。
4. **可视化看板**：基于 ECharts 实现财务状况与欠费告警的多维数据展示。
5. **AI 助手集成**：对接阿里云通义千问 API，提供智能业务指引。

# 简述课程设计开始以来所做的具体工作和取得的进展

截至目前，本项目已完成基础设施搭建与数据持久层的深度开发，具体进展如下：

### 1. 数据库架构分析与深度优化
- **范式重构**：识别并解决了 `User-Owner-Property` 之间的传递依赖，通过合并 `owners` 至 `users` 表，简化了表关联，提升了查询效率。
- **性能优化**：针对“欠费硬拦截”业务需求，在 `fees` 表中建立了 `(p_id, is_paid)` 复合索引，确保在千万级数据下欠费校验仍能保持 O(log N) 的响应速度。
- **数据完整性**：引入了 `CHECK` 约束（如性别、用户类型、缴费状态等枚举值校验）和 `UNIQUE` 复合约束（房产物理唯一性），从数据库底层保障业务合规。
- **自动化脚本**：完善了 `schema.sql`（含数据库创建逻辑）与 `data.sql`（含多场景成功/失败模拟测试数据）。

### 2. Java 后端开发环境与数据持久层 (DAO) 实现
- **工程环境**：完成了 Maven 项目骨架搭建，配置了 `pom.xml` 及 JDK 17 环境。
- **数据库连接管理**：实现了 `DBUtil` 工具包，采用静态代码块加载 `db.properties` 外部配置，实现了对远程生产数据库的稳定连接。
- **实体层 (Entity)**：创建了 `User`、`Property`、`Fee`、`UtilityCard` 的 JavaBean，精确映射数据库字段。
- **持久层 (DAO)**：完成了所有实体的 DAO 编写，实现了标准的 CRUD（增删改查）以及特定业务查询接口（如房产 ID 查账单）。

### 3. 系统功能验证
- 开发了交互式命令行工具 `CRUDTest.java`，已通过命令行成功验证了在远程服务器上进行的各项数据操作。

# 目前存在问题，下一步的主要设计任务，具体设想与安排

### 目前存在的问题
- **事务管理**：目前的 DAO 操作尚未集成连接池和显式的事务控制，在并发场景下可能存在数据不一致风险。
- **异常处理**：全局异常捕获机制尚待完善，目前以控制台输出错误为主。

### 下一步主要任务
1. **Service 逻辑层开发**：封装核心业务流程，重点实现 `checkArrears(String p_id)` 拦截器方法。
2. **Spring Boot/Web 层集成**：将目前的 JDBC 封装迁移或对接到 Spring 框架，实现 RESTful 接口。
3. **前端界面构建**：编写 HTML5/CSS3 静态页面，开始集成 JavaScript 进行动态数据交互。
4. **可视化大屏初探**：引入 ECharts 库，开始进行 mock 数据的图形化渲染。

### 具体设想与安排
- **下阶段第一步**：引入 HikariCP 或类似连接池，并封装 Service 层接口。
- **进度计划**：预计在 1 月 10 日前完成所有核心业务逻辑的 Service 封装，并在 1 月 12 日前完成前端骨架与看板初版。